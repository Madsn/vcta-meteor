<template name="endomondo">
  {{#spinner type="wave" visible=loadingEndomondoTrips}}
    {{#if endomondoTrips}}
      <ul>
      {{#each endomondoTrips}}
        <li>{{start_time}} - {{distance_km}}</li>
      {{/each}}
      </ul>
    {{/if}}
    {{#if endomondoAuthInfo}}
      <div class="row">
        <form id="refreshWorkouts">
          <button id="refreshWorkoutsButton" type="submit" class="btn btn-primary pull-right">
            Refresh workouts
          </button>
        </form>
        <button class="btn btn-danger pull-right" id="clearAuthInfo">Clear username/password</button>
      </div>
    {{/if}}
    {{#unless endomondoAuthInfo}}
      <div class="col-md-6 pull-right">
        <form id="getWorkouts">
          <fieldset>
            <div class="form-group">
              <label for="endomondoUsername">Username</label>
              <input id="endomondoUsername" type="text" class="form-control" name="username" placeholder="username">
            </div>
            <div class="form-group">
              <label for="endomondoPassword">Password</label>
              <input id="endomondoPassword" type="password" name="password" class="form-control" placeholder="password">
            </div>
          </fieldset>
          <button type="submit" class="btn btn-primary pull-right">Get workouts</button>
        </form>
      </div>
    {{/unless}}
  {{/spinner}}
</template>
