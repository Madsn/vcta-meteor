<template name="dashboard">
  <div class="page-header">
    <h2>
      Dashboard
    </h2>
  </div>
  {{#if currentUser}}
    <div class="row">
      <div class="col-md-5">
        {{> _dash_stats}}
      </div>
      <div class="col-md-7">
        {{#if userAlreadyInTeam}}
          {{#autoForm collection="Teams" id="addTeamForm" type="insert"}}
            <fieldset>
              {{> afQuickField name="name"}}
            </fieldset>
          {{/autoForm}}
        {{/if}}
        {{> _dash_trips}}
      </div>
    </div>
  {{/if}}
  {{#unless currentUser}}
    {{> notLoggedIn}}
  {{/unless}}
</template>

<template name="_dash_trips">
  <div class="panel panel-default">
    {{> panel_heading title="Trips"}}
    <div class="panel-body">
      <div class="pull-right">
        {{#autoForm collection="Trips" id="addTripForm" type="insert"}}
          <fieldset>
            {{> afQuickField name="date" type="bootstrap-datepicker"}}
            {{> afQuickField name="distance" type="text"}}
          </fieldset>
          <button type="submit" class="btn btn-primary pull-right">Add trip</button>
        {{/autoForm}}
      </div>
      {{> tabular table=TabularTables.Trips class="table table-striped table-hover" search=false}}
    </div>
  </div>
</template>

<template name="_dash_stats">
  <div class="panel panel-default">
    {{> panel_heading title="My stats"}}
    <div class="panel-body">
      <table class="table table-hover">
        <thead>
        </thead>
        <tbody>
          <tr>
            <td>Username</td>
            <td>{{username}}</td>
          </tr>
          <tr>
            <td>Total distance</td>
            <td></td>
          </tr>
          <tr>
            <td>Cycling days</td>
            <td></td>
          </tr>
          <tr>
            <td>Team</td>
            <td></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</template>
